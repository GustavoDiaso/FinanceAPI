tags:
  - B3 Stocks

summary: Returns information about stocks traded on b3.

parameters:
  - name: sector
    in: path
    type: string
    required: false
    description: stock market sector
    enum:
      - 'Retail Trade | Energy Minerals | Health Services | Utilities | Finance | Consumer Services | 
      Consumer Non-Durables | Non-Energy Minerals | Commercial Services | Distribution Services | 
      Transportation" | Technology Services | Process Industries | Communications" | Producer Manufacturing | 
      Miscellaneous" | Electronic Technology | Industrial Services | Health Technology | Consumer Durables'


  - name: sortedBy
    in: path
    type: string
    required: false
    default: 'name'
    description: The field by which the stocks will be sorted
    enum:
      - 'name'
      - 'close'
      - 'change'
      - 'change_abs'
      - 'volume'
      - 'market_cap_basic'
      - 'sector'

  - name: order
    in: path
    type: string
    required: false
    default: "asc"
    description: The order in which the sorted stocks will appear in the response (asc or desc)
    enum:
      - 'asc'
      - 'desc'

  - name: limit
    in: path
    type: int
    required: false
    description: The number of stocks that will be shown in the response at a time

  - name: page
    in: path
    type: int
    required: false
    description: Page number of results to be returned, considering the specified limit. Starts at 1.

responses:
  
  '200':
    description: Stocks information returned with success
    content:
      application/json:
        schema:
          type: object
          properties:
            success:
              type: boolean
              example: true
            data:
              type: object
              properties:
                availableSectors:
                  type: array
                  items:
                    type: string
                  example:
                    - "Retail Trade"
                    - "Energy Minerals"
                    - "Health Services"
                    - "Utilities"
                    - "Finance"             
                indexes:
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        example: "Ibovespa"
                      stock:
                        type: string
                        example: "IBOV"
            sortByOptions:
              type: array
              items:
                type: string
              example:
                - "name"
                - "close"
                - "change"
                - "change_abs"
                - "volume"
                - "market_cap_basic"
                - "sector"
            stocks:
              type: array
              items:
                type: object
                properties:
                  stock:
                    type: string
                    example: "ABEV3"
                  name:
                    type: string
                    example: "Ambev S.A."
                  sector:
                    type: string
                    example: "Consumer Non-Durables"
                  close:
                    type: number
                    example: 15.30
                  change:
                    type: number
                    example: 3.8998999483
                  volume:
                    type: integer
                    example: 12000000
                  market_cap:
                    type: integer
                    example: 80000000000    
                  logoUrl:
                    type: string
                    example: "https://example.com/logo.png"
                  type:
                    type: string
                    example: "stock"        
         
  '400':
    description: Bad Request.
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
          example:
            error: "Invalid 'order' parameter. Allowed values are: asc, desc."

  '503':
    description: Service Unavailable.
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
          example:
            error: "This endpoint is unavailable at the moment. Please try again later."